# Система управления банковскими картами

## Описание проекта
Backend-приложение на Java (Spring Boot) для управления банковскими картами. Система позволяет создавать, управлять и просматривать банковские карты, а также выполнять переводы между собственными картами. Реализована полноценная аутентификация и авторизация с использованием JWT.

---

## Основные возможности

### Роли и права доступа
- **ADMIN**
    - Управление картами: создание, блокировка, активация, удаление.
    - Управление пользователями.
    - Просмотр всех карт и запросов.
- **USER**
    - Просмотр и поиск своих карт с пагинацией.
    - Запрос на блокировку карты.
    - Переводы между своими картами.
    - Просмотр и пополнение баланса карты.

### Основные функции
- CRUD операции с банковскими картами.
- Переводы между картами пользователя.
- Фильтрация и постраничная выдача данных.
- Валидация данных и информативные сообщения об ошибках.
- Безопасность:
    - Ролевой доступ к API.
    - JWT токены для аутентификации.
    - Маскирование номеров карт (**** **** **** 1234).
    - Шифрование данных (например, номеров карт).
- Управление миграциями базы данных через Liquibase YAML.

---

## Технологии
- Java 17
- Spring Boot
- Spring Security + JWT
- Spring Data JPA
- PostgreSQL
- Liquibase
- Docker & Docker Compose
- Swagger UI / OpenAPI для документации API

---

## Структура проекта
- `src/main/java` — исходный код приложения
- `src/main/resources/db/migration` — миграции Liquibase
- `docs/openapi.yaml` — спецификация OpenAPI / Swagger
- Dockerfile — сборка Docker-образа
- docker-compose.yml — конфигурация для локального запуска с базой данных

---

## Запуск проекта

### Требования
- Docker и Docker Compose
- Java 17+

### Запуск через Docker Compose
1. Построить jar-файл:
   ```bash
   ./mvnw clean package

2. Запустить сервисы:
   docker-compose up --build:

3. Приложение будет доступно по адресу:
   http://localhost:8080

4. Логин и пароль администратора\
login: admin\
password: admin123

### Конфигурация
Параметры подключения к базе данных указаны в application.yml.

JWT секрет задаётся через переменную окружения JWT_SECRET в docker-compose.yml.


### Документация API

http://localhost:8080/swagger-ui/index.html#/

